{% extends 'base.html' %}
{% load i18n static %}
{% block title %}{% trans 'Cart' %}{% endblock %}
{#<!--if edited user currency qty, update cdev.js 184 https://html.spec.whatwg.org/multipage/tables.html#the-th-element-->#}
{% block content %}
<div class="font-c-sans max-w-sm mx-auto">
  {% if cart.products.exists %}
  <div class="text-center">
    <h1 class="h1">{% trans 'Cart' %}</h1>
  </div>
  <table class="cart-table text-lg table-auto mx-auto">
    <thead class="border-b border-gray-500">
      <tr>
        <th scope="col" colspan="1"><span hidden>Index</span></th>
        <th scope="col" class="tabcol">{% trans 'Product' %}</th>
        <th scope="col" class="tabcol"><label for="id_qty">{% trans 'Quantity' %}</label></th>
        <th scope="col" class="tabcol">{% trans 'Price' %}</th>
        <th scope="col" colspan="1"><span hidden>Pad</span></th>
      </tr>
    </thead>
    <tbody class="cart-body items-center">
      {% for object in cart.products.all %}
      <tr class="cart-product bordb">
        <td scope="row" colspan="1"></td>{#<!--{ forloop.counter }}add thumbnail<img class="w-20 h-20" src="{ { object.image.url }}">appearance-none border border-gray-400 px-2 pr-5 py-1 rounded-lg focus:outline-none focus:ring-2 ring-yellow-200 ring-offset-transparent ring-offset-2 bg-white hover:border-gray-600 shadow {% if object.img %}{% endif %}-->#}
        <td class="p-4">
          <a href="{{ object.get_absolute_url }}" class="tabitem px-2 py-1" id="product-cart">{{ object.name_product }}</a>
        </td>
        <div id="product-cart-tip" class="hidden">
          <img loading="lazy" src="{{ object.img.url }}" alt="{{ object.name_product }} {% trans 'Image' %}" class="h-64 w-64">
        </div>
        <td class="px-4">
          {% if object.is_digital %}
          <p>1 ({% trans 'Digital' %})</p>
          {% else %}
          <select id="id_qty" name="qty">
            {% for q in object.rangeqty %}
            <option value="{{ q }}" class="qty-item">{{ q }}</option>
            {% endfor %}
          </select>{#<!--class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-5 text-gray-600"><svg class="r-180 fill-current h-4 w-4"><use xlink:href="{% static 'img/svg-defs.svg' %}#arrow-d"></use></svg>-->#}
          {% endif %}
        </td>
        <td class="px-4">
          <p class="price-item">{% include 'base/snippets/currency.html' %} {{ object.price }}</p>
        </td>
        <td class="cart-item-remove-form pl-4">
          {% include 'carts/snippets/remove-product.html' with id=object.id cart=cart in_cart=True %}
        </td>
      </tr>
      {% endfor %}{#<!--carts/snippets/remove-product.html id=object.id Subtotal <p class="cart-subtotal">{ { cart.subtotal }}</p></td></tr>{ { object.tax }}-->#}
      <tr>
        <td colspan="3"></td>
        <th scope="col" class="border-b border-gray-500 py-2">{% trans 'Total' %}</th>
      </tr>
      <tr>
        <td colspan="3"></td>
        <td class="text-center py-2">
          <p class="cart-total">{% include 'base/snippets/currency.html' %}{{ cart.total }}</p>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="flex items-center justify-between text-lg mt-6">
    {% include 'base/snippets/backbtn.html' with url=shop_url %}
    <a class="inline-flex text-yellow-500 hover:text-yellow-600 rounded-full cr2 my-1" href="https://commerce.coinbase.com/checkout/7f1639eb-d280-4b97-afdd-168c0ec50cd8" data-tippy-content="{% trans 'Buy with Crypto' %} âš¡">
      <svg class="h-9 w-9 fill-current"><use xlink:href="{% static 'img/svg-defs.svg' %}#btc"></use></svg>
      <span hidden>{% trans 'Buy with Crypto' %}</span>
    </a>
    {% include 'carts/snippets/checkbtn.html' %}
</div>
  {% else %}
  <div class="text-center">
    <h1 class="h1 my-6">{% trans 'Your cart is empty' %}</h1>
    {% include 'base/snippets/sad.html' %}
  </div>
  {% endif %}
</div>
{% endblock %}{% comment %}<!--._. multiply qty*price and update total currency
Algorand blockchain <script src="https://commerce.coinbase.com/v1/checkout.js?version=201807"></script> -->{% endcomment %}